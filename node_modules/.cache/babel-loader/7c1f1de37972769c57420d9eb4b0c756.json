{"ast":null,"code":"import _toConsumableArray from\"/Users/faduma/Desktop/All Bootcamp Homework/Unit-19-Homework/React-Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/faduma/Desktop/All Bootcamp Homework/Unit-19-Homework/React-Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/faduma/Desktop/All Bootcamp Homework/Unit-19-Homework/React-Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/faduma/Desktop/All Bootcamp Homework/Unit-19-Homework/React-Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/faduma/Desktop/All Bootcamp Homework/Unit-19-Homework/React-Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import API from'../../util/api';import Nav from'../nav/index';import Row from'../row/index';import Column from'../column/index';import Card from'../card';import Container from'../container';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={allResults:[],allResultsSorted:[],results:[],sorted:false,nameDescend:false,ageDescend:false};_this.submitFunc=function(event){var value=event.target.value;var allResults=_this.state.allResults;var allResultsSorted=_this.state.allResultsSorted;var filtered;var arrayToUse;if(!_this.state.sorted){arrayToUse=allResults;}else{arrayToUse=allResultsSorted;}setTimeout(function(){// This will allow the user to search by phone number or dob\nif(value.match(/[0-9]/gi)){filtered=arrayToUse.filter(function(employee){return employee.phone.includes(value)||employee.dob.date.includes(value)||employee.dob.age.toString().includes(value);});}// Or the user can search by name instead\nelse{filtered=arrayToUse.filter(function(employee){return employee.name.first.toLowerCase().includes(value.toLowerCase())||employee.name.last.toLowerCase().includes(value.toLowerCase());});}if(value!==''&&filtered.length!==0){_this.setState({results:filtered});}else{if(!_this.state.sorted){_this.setState({results:_this.state.allResults});}else{_this.setState({results:_this.state.allResultsSorted});}}},300);};_this.dropdownFunc=function(event){var dropdownValue=event.target.innerText.trim();var sortBtn=document.getElementById('sortBtn');var arrow=document.getElementById('arrow');if(dropdownValue!=='By Default'){var sorted;// If the user is sorting by name\nif(dropdownValue==='By Name'){// Found this solution here: https://stackoverflow.com/questions/53821428/cannot-sort-array-of-objects-in-react\nsorted=_toConsumableArray(_this.state.allResultsSorted).sort(function(a,b){// If the user chose to show the results in ascending orderr\nif(!_this.state.nameDescend){// Quick if statement to make sure the ascending or descending arrow is allows pointing in the right direction\nif(arrow.classList.value==='fas fa-angle-down'){arrow.classList.replace('fa-angle-down','fa-angle-up');}_this.setState({nameDescend:true});if(a.name.first<b.name.first)return-1;}// Descending order\nelse{arrow.classList.replace('fa-angle-up','fa-angle-down');_this.setState({nameDescend:false});if(a.name.first>b.name.first)return-1;}return 0;});}// If the user chose to sort by age\nelse{sorted=_toConsumableArray(_this.state.allResultsSorted).sort(function(a,b){if(!_this.state.ageDescend){if(arrow.classList.value==='fas fa-angle-down'){arrow.classList.replace('fa-angle-down','fa-angle-up');}if(a.dob.age<b.dob.age)return-1;_this.setState({ageDescend:true});}else{arrow.classList.replace('fa-angle-up','fa-angle-down');if(a.dob.age>b.dob.age)return-1;_this.setState({ageDescend:false});}return 0;});}var searchVal=document.getElementById('searchBar');if(searchVal.value!==''){searchVal.value='';}_this.setState({allResultsSorted:sorted,results:sorted,sorted:true});arrow.style.display='inline';sortBtn.innerText=dropdownValue;}// Or if the user chose default sorting\nelse{document.getElementById('searchBar').value='';arrow.style.display='none';_this.setState({results:_this.state.allResults,sorted:false,nameDescend:false,ageDescend:false});sortBtn.innerText='Sort';}};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Ascending or Descending arrow\nvar arrow=document.getElementById('arrow');arrow.style.display='none';API.findPeople().then(function(res){_this2.setState({allResults:res.data.results,allResultsSorted:res.data.results,results:res.data.results});});}},{key:\"render\",value:function render(){var results=this.state.results;return/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(Nav,{submitFunc:this.submitFunc,dropdownFunc:this.dropdownFunc}),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,results.map(function(employees,i){return/*#__PURE__*/React.createElement(Column,{key:i},/*#__PURE__*/React.createElement(Card,{image:employees.picture.large,firstName:employees.name.first,lastName:employees.name.last,age:employees.dob.age,DOB:employees.dob.date,phoneNum:employees.phone,email:employees.email}));}))));}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["/Users/faduma/Desktop/All Bootcamp Homework/Unit-19-Homework/React-Employee-Directory/src/components/main-content/index.js"],"names":["React","Component","API","Nav","Row","Column","Card","Container","Main","state","allResults","allResultsSorted","results","sorted","nameDescend","ageDescend","submitFunc","event","value","target","filtered","arrayToUse","setTimeout","match","filter","employee","phone","includes","dob","date","age","toString","name","first","toLowerCase","last","length","setState","dropdownFunc","dropdownValue","innerText","trim","sortBtn","document","getElementById","arrow","sort","a","b","classList","replace","searchVal","style","display","findPeople","then","res","data","map","employees","i","picture","large","email"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport API from '../../util/api';\n\nimport Nav from '../nav/index';\nimport Row from '../row/index';\nimport Column from '../column/index';\nimport Card from '../card';\nimport Container from '../container';\n\nclass Main extends Component {\n    state = {\n        allResults: [],\n        allResultsSorted: [],\n        results: [],\n        sorted: false,\n        nameDescend: false,\n        ageDescend: false\n    }\n\n    componentDidMount() {\n        // Ascending or Descending arrow\n        const arrow = document.getElementById('arrow');\n\n        arrow.style.display = 'none';\n\n        API.findPeople().then(res => {\n            this.setState({\n                allResults: res.data.results,\n                allResultsSorted: res.data.results,\n                results: res.data.results\n            });\n        });\n    }\n\n    submitFunc = (event) => {\n        const value = event.target.value;\n\n        const allResults = this.state.allResults;\n\n        const allResultsSorted = this.state.allResultsSorted;\n\n        let filtered;\n\n        let arrayToUse;\n\n        if (!this.state.sorted) {\n            arrayToUse = allResults;\n        } else {\n            arrayToUse = allResultsSorted;\n        }\n\n        setTimeout(() => {\n                // This will allow the user to search by phone number or dob\n                if (value.match(/[0-9]/gi)) {\n                    filtered = arrayToUse.filter(employee => \n                        employee.phone.includes(value) || employee.dob.date.includes(value) || employee.dob.age.toString().includes(value)\n                    );\n                } \n                \n                // Or the user can search by name instead\n                else {\n                    filtered = arrayToUse.filter(employee => \n                        employee.name.first.toLowerCase().includes(value.toLowerCase()) || employee.name.last.toLowerCase().includes(value.toLowerCase())\n                    );\n                }\n                \n                if (value !== '' && filtered.length !== 0) {\n                    this.setState({results: filtered});\n                } else {\n                    if (!this.state.sorted) {\n                        this.setState({results: this.state.allResults});\n                    } else {\n                        this.setState({results: this.state.allResultsSorted});\n                    }\n\n                }\n        }, 300)\n    }\n\n    dropdownFunc = (event) => {\n        const dropdownValue = event.target.innerText.trim();\n\n        const sortBtn = document.getElementById('sortBtn');\n\n        const arrow = document.getElementById('arrow');\n\n        if (dropdownValue !== 'By Default') {\n            let sorted;\n\n            // If the user is sorting by name\n            if (dropdownValue === 'By Name') {\n                // Found this solution here: https://stackoverflow.com/questions/53821428/cannot-sort-array-of-objects-in-react\n                sorted = [...this.state.allResultsSorted].sort((a, b) => {\n                    \n                    // If the user chose to show the results in ascending orderr\n                    if (!this.state.nameDescend) {\n\n                        // Quick if statement to make sure the ascending or descending arrow is allows pointing in the right direction\n                        if (arrow.classList.value === 'fas fa-angle-down') {\n                            arrow.classList.replace('fa-angle-down', 'fa-angle-up')\n                        }\n\n                        this.setState({nameDescend: true});\n\n                        if (a.name.first < b.name.first) return -1;\n                    } \n                    \n                    // Descending order\n                    else {\n                        arrow.classList.replace('fa-angle-up', 'fa-angle-down');\n                        \n                        this.setState({nameDescend: false});\n\n                        if (a.name.first > b.name.first) return -1;\n                    }\n                    return 0;\n                });\n            }\n\n            // If the user chose to sort by age\n            else {\n                sorted = [...this.state.allResultsSorted].sort((a, b) => {\n                    if (!this.state.ageDescend) {\n                        if (arrow.classList.value === 'fas fa-angle-down') {\n                            arrow.classList.replace('fa-angle-down', 'fa-angle-up')\n                        }\n\n                        if (a.dob.age < b.dob.age) return -1;\n\n                        this.setState({ageDescend: true})\n                    } \n                    \n                    else {\n                        arrow.classList.replace('fa-angle-up', 'fa-angle-down');\n\n                        if (a.dob.age > b.dob.age) return -1;\n\n                        this.setState({ageDescend: false})\n                    }\n                    return 0;\n                });\n            }\n\n            const searchVal = document.getElementById('searchBar');\n\n            if (searchVal.value !== '') {\n                searchVal.value = ''; \n            }\n\n            this.setState({\n                allResultsSorted: sorted, \n                results: sorted, \n                sorted: true\n            });\n\n            arrow.style.display = 'inline';\n\n            sortBtn.innerText = dropdownValue;\n        }\n\n        // Or if the user chose default sorting\n        else {\n            document.getElementById('searchBar').value = ''; \n\n            arrow.style.display = 'none';\n\n            this.setState({\n                results: this.state.allResults,\n                sorted: false,\n                nameDescend: false,\n                ageDescend: false\n            });\n\n            sortBtn.innerText = 'Sort';\n        }\n    }\n\n    render() {\n        const results = this.state.results;\n\n        return (\n            <div className='content'>\n                <Nav \n                    submitFunc={this.submitFunc}\n                    dropdownFunc={this.dropdownFunc}\n                />\n\n                <Container>\n                    <Row>\n                        {\n                            results.map((employees, i) => (\n                                <Column key={i}>\n                                    <Card\n                                        image={employees.picture.large}\n                                        firstName={employees.name.first}\n                                        lastName={employees.name.last}\n                                        age={employees.dob.age}\n                                        DOB={employees.dob.date}\n                                        phoneNum={employees.phone}\n                                        email={employees.email}\n                                    />\n                                </Column>\n                            ))\n                        }\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}